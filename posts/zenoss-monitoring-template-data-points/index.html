<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head>
  <link href="//gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="generator" content="Hugo 0.61.0" />

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  
  <script type="application/ld+json">
{
    "@context" : "http://schema.org",
    "@type" : "BlogPosting",
    "mainEntityOfPage": {
         "@type": "WebPage",
         "@id": "https:\/\/aalvarez.me\/"
    },
    "articleSection" : "posts",
    "name" : "Zenoss Monitoring Template Data Points",
    "headline" : "Zenoss Monitoring Template Data Points",
    "description" : "\x3cp\x3e\x3cem\x3eContent from this post is mostly obtained from \x3cstrong\x3eZenoss Core Administration guide\x3c\/strong\x3e.\x3c\/em\x3e\x3c\/p\x3e\n\x3cp\x3eIn Zenoss Core \x3cstrong\x3emonitoring templates\x3c\/strong\x3e, data sources can return data for one or more performance metrics. Each metric retrieved by a data source is represented\nby a \x3cstrong\x3edata point\x3c\/strong\x3e.\x3c\/p\x3e\n\x3cp\x3eWhen creating a data point, there are some important fields that we can define for our data point:\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3cp\x3e\x3cstrong\x3eName:\x3c\/strong\x3e Displays the name you entered in the \x3cem\x3eAdd a New DataPoint\x3c\/em\x3e dialog.\x3c\/p\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e\x3cstrong\x3eRRD Type:\x3c\/strong\x3e Specify the RRD data source type to use for storing data for this data point. (Zenoss Core uses RRDTool to store performance data.) Available options are:\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3cp\x3e\x3cstrong\x3eCOUNTER:\x3c\/strong\x3e Saves the rate of change of the value over a step period. This assumes that the value is always\nincreasing (the difference between the current and the previous value is greater than 0). Traffic counters on a\nrouter are an ideal candidate for using COUNTER.\x3c\/p\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e\x3cstrong\x3eGAUGE:\x3c\/strong\x3e Does not save the rate of change, but saves the actual value. There are no divisions or calculations.\nTo see memory consumption in a server, for example, you might want to select this value.\x3c\/p\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e\x3cstrong\x3eDERIVE:\x3c\/strong\x3e Same as COUNTER, but additionally allows negative values. If you want to see the rate of change\nin free disk space on your server, for example, then you might want to select this value.\x3c\/p\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e\x3cstrong\x3eABSOLUTE:\x3c\/strong\x3e Saves the rate of change, but assumes that the previous value is set to 0. The difference between\nthe current and the previous value is always equal to the current value. Thus, ABSOLUTE stores the current\nvalue, divided by the step interval.\x3c\/p\x3e\n\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e\x3cstrong\x3eCreate Command:\x3c\/strong\x3e Enter an RRD expression used to create the database for this data point. If you do not enter\na value, then the system uses a default applicable to most situations. For details about the \x3c!-- raw HTML omitted --\x3errdcreate\x3c!-- raw HTML omitted --\x3e command, go \x3ca href=\x22http:\/\/oss.oetiker.ch\/rrdtool\/doc\/rrdcreate.en.html\x22\x3ehere\x3c\/a\x3e.\x3c\/p\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e\x3cstrong\x3eRRD Minimum:\x3c\/strong\x3e Enter a value. Any value received that is less than this number is ignored.\x3c\/p\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e\x3cstrong\x3eRRD Maximum:\x3c\/strong\x3e Enter a value. Any value received that is greater than this number is ignored.\x3c\/p\x3e\n\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch2 id=\x22data-point-aliases\x22\x3eData Point Aliases\x3c\/h2\x3e\n\x3cp\x3ePerformance reports pull information from various data points that represent a metric. The report itself knows which\ndata points it requires, and which modifications are needed, if any, to put the data in its proper units and format.\x3c\/p\x3e\n\x3cp\x3eThe addition of a data point requires changing the report.\x3c\/p\x3e\n\x3cp\x3e\x3cimg src=\x22\/posts\/zenoss-monitoring-template-data-points\/cpu_report.jpg\x22 alt=\x22CPU Utilization Report\x22\x3e\x3c\/p\x3e\n\x3cp\x3eTo allow for more flexibility in changes, some reports use \x3cem\x3edata point aliases\x3c\/em\x3e. Data point aliases group data points so\nthey can be more easily used for reporting. In addition, if the data points return data in different units, then the plugin\ncan normalize that data into a common unit.\x3c\/p\x3e",
    "inLanguage" : "en-US",
    "author" : "",
    "creator" : "",
    "publisher": "",
    "accountablePerson" : "",
    "copyrightHolder" : "",
    "copyrightYear" : "2016",
    "datePublished": "2016-11-03 00:00:00 \x2b0000 UTC",
    "dateModified" : "2016-11-03 00:00:00 \x2b0000 UTC",
    "url" : "https:\/\/aalvarez.me\/posts\/zenoss-monitoring-template-data-points\/",
    "wordCount" : "721",
    "keywords" : [ "zenoss","monitoring","snmp","data","linux","cpu","rrdtool","rpn","python","Blog" ]
}
</script>


  
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-131322667-1', 'auto');
	
	ga('send', 'pageview');
}
</script>


  <title>Zenoss Monitoring Template Data Points &middot; Andrés Álvarez</title>

  
  <link type="text/css" rel="stylesheet" href="https://aalvarez.me/css/print.css" media="print">
  <link type="text/css" rel="stylesheet" href="https://aalvarez.me/css/poole.css">
  <link type="text/css" rel="stylesheet" href="https://aalvarez.me/css/syntax.css">
  <link type="text/css" rel="stylesheet" href="https://aalvarez.me/css/hyde.css">
  <link type="text/css" rel="stylesheet" href="https://aalvarez.me/css/extra.css">
  <link type="text/css" rel="stylesheet" href="https://aalvarez.me/css/overrides.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Abril+Fatface|PT+Sans:400,400i,700">


  
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://aalvarez.me/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="https://aalvarez.me/favicon.png">

  
  <link href="" rel="alternate" type="application/rss+xml" title="Andrés Álvarez" />

  
</head>

  <body class="theme-base-08 ">
  <aside class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <a href="https://aalvarez.me/"><h1>Andrés Álvarez</h1></a>
      <p class="lead">
       Software Engineer &amp; Web Developer 
      </p>
    </div>

    <nav>
      <ul class="sidebar-nav">
        <li><a href="https://aalvarez.me/">Home</a> </li>
        <li><a href="https://aalvarez.me/tags/">Tags</a></li>
        <li><a href="https://aalvarez.me/about/"> About Me </a></li><li><a href="https://aalvarez.me/portfolio/"> Portfolio </a></li>
      </ul>
    </nav>

    
    <ul id="social-media" class="list-inline">
      
        <li>
           <a href="mailto:andresalvarez353@gmail.com" target="_blank"><i class="fa fa-envelope fa-2x" title="E-Mail"></i></a>
        </li>
      

      
        <li>
          <a href="https://linkedin.com/in/aalvarez4" target="_blank"><i class="fa fa-linkedin fa-2x" title="LinkedIn"></i></a>
        </li>
      

      
        <li>
          <a href="https://github.com/BigChief45" target="_blank"><i class="fa fa-github fa-2x" title="Github"></i></a>
        </li>
      

      
        <li>
          <a href="https://www.instagram.com/aalvarez300" target="_blank"><i class="fa fa-instagram fa-2x" title="Instagram"></i></a>
        </li>
      

      
        <li>
          <a href="https://aalvarez.me/index.xml" target="_blank"><i class="fa fa-rss fa-2x" title="RSS"></i></a>
        </li>
      
    </ul>

    <p>&copy; 2020. All rights reserved. </p>
  </div>
</aside>

    <main class="content container">
    <div class="post">
  <h1>Zenoss Monitoring Template Data Points</h1>
  <time datetime=2016-11-03T00:00:00Z class="post-date">Thu, Nov 3, 2016</time>

  <p><em>Content from this post is mostly obtained from <strong>Zenoss Core Administration guide</strong>.</em></p>
<p>In Zenoss Core <strong>monitoring templates</strong>, data sources can return data for one or more performance metrics. Each metric retrieved by a data source is represented
by a <strong>data point</strong>.</p>
<p>When creating a data point, there are some important fields that we can define for our data point:</p>
<ul>
<li>
<p><strong>Name:</strong> Displays the name you entered in the <em>Add a New DataPoint</em> dialog.</p>
</li>
<li>
<p><strong>RRD Type:</strong> Specify the RRD data source type to use for storing data for this data point. (Zenoss Core uses RRDTool to store performance data.) Available options are:</p>
<ul>
<li>
<p><strong>COUNTER:</strong> Saves the rate of change of the value over a step period. This assumes that the value is always
increasing (the difference between the current and the previous value is greater than 0). Traffic counters on a
router are an ideal candidate for using COUNTER.</p>
</li>
<li>
<p><strong>GAUGE:</strong> Does not save the rate of change, but saves the actual value. There are no divisions or calculations.
To see memory consumption in a server, for example, you might want to select this value.</p>
</li>
<li>
<p><strong>DERIVE:</strong> Same as COUNTER, but additionally allows negative values. If you want to see the rate of change
in free disk space on your server, for example, then you might want to select this value.</p>
</li>
<li>
<p><strong>ABSOLUTE:</strong> Saves the rate of change, but assumes that the previous value is set to 0. The difference between
the current and the previous value is always equal to the current value. Thus, ABSOLUTE stores the current
value, divided by the step interval.</p>
</li>
</ul>
</li>
<li>
<p><strong>Create Command:</strong> Enter an RRD expression used to create the database for this data point. If you do not enter
a value, then the system uses a default applicable to most situations. For details about the <!-- raw HTML omitted -->rrdcreate<!-- raw HTML omitted --> command, go <a href="http://oss.oetiker.ch/rrdtool/doc/rrdcreate.en.html">here</a>.</p>
</li>
<li>
<p><strong>RRD Minimum:</strong> Enter a value. Any value received that is less than this number is ignored.</p>
</li>
<li>
<p><strong>RRD Maximum:</strong> Enter a value. Any value received that is greater than this number is ignored.</p>
</li>
</ul>
<h2 id="data-point-aliases">Data Point Aliases</h2>
<p>Performance reports pull information from various data points that represent a metric. The report itself knows which
data points it requires, and which modifications are needed, if any, to put the data in its proper units and format.</p>
<p>The addition of a data point requires changing the report.</p>
<p><img src="https://aalvarez.me/posts/zenoss-monitoring-template-data-points/cpu_report.jpg" alt="CPU Utilization Report"></p>
<p>To allow for more flexibility in changes, some reports use <em>data point aliases</em>. Data point aliases group data points so
they can be more easily used for reporting. In addition, if the data points return data in different units, then the plugin
can normalize that data into a common unit.</p>
<p>An alias-based report looks up the data points that share a common alias string, and then uses them. This approach
allows you to add data points without changing the report.</p>
<p><img src="https://aalvarez.me/posts/zenoss-monitoring-template-data-points/cpu_alias_report.jpg" alt="CPU Utilization Alias-Based Report"></p>
<p>In the simplest cases, data from the target data points are returned in units expected by a report. For cases in which
data are not returned in the same units, an alias can use an associated formula at the data point. For example, if a data
point returns data in kilobytes, but the report expects data in bytes, then the formula multiplies the value by 1024.</p>
<h3 id="alias-formula-evaluation">Alias Formula Evaluation</h3>
<p>The system evaluates the alias formula in three passes.</p>
<h4 id="reverse-polish-notation">Reverse Polish Notation</h4>
<p>When complete, the alias formula must resolve to a Reverse Polish Notation (RPN) formula that can be used by
RRDtool. For the simple conversion of kilobytes into bytes, the formula is:</p>
<pre><code>1024, *
</code></pre><p>For more information on RRDtool and RPN formulas, go <a href="http://oss.oetiker.ch/rrdtool/doc/rrdgraph_rpn.en.html">here</a>.</p>
<h4 id="using-tales-expressions-in-alias-formulas">Using TALES Expressions in Alias Formulas</h4>
<p>For cases in which contextual information is needed, the alias formula can contain a TALES expression that has access
to the device as context (labeled as &ldquo;here&rdquo;). The result of the TALES evaluation should be an RRD formula.</p>
<p>For example, if the desired value is the data point value divided by total memory, the formula is:</p>
<pre><code>${here/hw/totalMemory},/
</code></pre><p>For more information on TALES, the <a href="http://wiki.zope.org/ZPT/TALESSpecification13">TALES Specification 1.3</a>.</p>
<h4 id="using-python-in-alias-formulas">Using Python in Alias Formulas</h4>
<p>You also can embed full Python code in an alias formula for execution. The code must construct a string that results
in a valid RRD formula. To signal the system to evaluate the formula correctly, it must begin with:</p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#111">__EVAL</span><span style="color:#111">:</span>
</code></pre></div><p>Using the same example as in the previous section (division by total memory), the formula is:</p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#111">__EVAL</span><span style="color:#111">:</span><span style="color:#111">here</span><span style="color:#f92672">.</span><span style="color:#111">hw</span><span style="color:#f92672">.</span><span style="color:#111">totalMemory</span> <span style="color:#f92672">+</span> <span style="color:#d88200"></span><span style="color:#d88200">&#34;</span><span style="color:#d88200">,/</span><span style="color:#d88200">&#34;</span>
</code></pre></div>
</div>


<div style="margin: 20px 0px;">
  
    <a href="https://aalvarez.me/tags/zenoss" class="label label-default">zenoss</a></li>
  
    <a href="https://aalvarez.me/tags/monitoring" class="label label-default">monitoring</a></li>
  
    <a href="https://aalvarez.me/tags/snmp" class="label label-default">snmp</a></li>
  
    <a href="https://aalvarez.me/tags/data" class="label label-default">data</a></li>
  
    <a href="https://aalvarez.me/tags/linux" class="label label-default">linux</a></li>
  
    <a href="https://aalvarez.me/tags/cpu" class="label label-default">cpu</a></li>
  
    <a href="https://aalvarez.me/tags/rrdtool" class="label label-default">rrdtool</a></li>
  
    <a href="https://aalvarez.me/tags/rpn" class="label label-default">rpn</a></li>
  
    <a href="https://aalvarez.me/tags/python" class="label label-default">python</a></li>
  
</div>


<h2>Comments</h2>
<div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "aalvarez-blog" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </main>

    
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-131322667-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

  </body>
</html>
