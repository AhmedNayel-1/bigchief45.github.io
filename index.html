<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head>
  <link href="//gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="generator" content="Hugo 0.61.0" />

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  
  <script type="application/ld+json">
{
    "@context" : "http://schema.org",
    "@type" : "BlogPosting",
    "mainEntityOfPage": {
         "@type": "WebPage",
         "@id": "https:\/\/aalvarez.me\/"
    },
    "articleSection" : "",
    "name" : "Andrés Álvarez",
    "headline" : "Andrés Álvarez",
    "description" : "",
    "inLanguage" : "en-US",
    "author" : "",
    "creator" : "",
    "publisher": "",
    "accountablePerson" : "",
    "copyrightHolder" : "",
    "copyrightYear" : "2020",
    "datePublished": "2020-05-06 15:27:47 -0600 CST",
    "dateModified" : "2020-05-06 15:27:47 -0600 CST",
    "url" : "https:\/\/aalvarez.me\/",
    "wordCount" : "0",
    "keywords" : [ "Blog" ]
}
</script>


  
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-131322667-1', 'auto');
	
	ga('send', 'pageview');
}
</script>


  <title>Andrés Álvarez</title>

  
  <link type="text/css" rel="stylesheet" href="https://aalvarez.me/css/print.css" media="print">
  <link type="text/css" rel="stylesheet" href="https://aalvarez.me/css/poole.css">
  <link type="text/css" rel="stylesheet" href="https://aalvarez.me/css/syntax.css">
  <link type="text/css" rel="stylesheet" href="https://aalvarez.me/css/hyde.css">
  <link type="text/css" rel="stylesheet" href="https://aalvarez.me/css/extra.css">
  <link type="text/css" rel="stylesheet" href="https://aalvarez.me/css/overrides.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Abril+Fatface|PT+Sans:400,400i,700">


  
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://aalvarez.me/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="https://aalvarez.me/favicon.png">

  
  <link href="https://aalvarez.me/index.xml" rel="alternate" type="application/rss+xml" title="Andrés Álvarez" />

  
</head>

  <body class="theme-base-08 ">
  <aside class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <a href="https://aalvarez.me/"><h1>Andrés Álvarez</h1></a>
      <p class="lead">
       Software Engineer &amp; Web Developer 
      </p>
    </div>

    <nav>
      <ul class="sidebar-nav">
        <li><a href="https://aalvarez.me/">Home</a> </li>
        <li><a href="https://aalvarez.me/tags/">Tags</a></li>
        <li><a href="https://aalvarez.me/about/"> About Me </a></li><li><a href="https://aalvarez.me/portfolio/"> Portfolio </a></li>
      </ul>
    </nav>

    
    <ul id="social-media" class="list-inline">
      
        <li>
           <a href="mailto:andresalvarez353@gmail.com" target="_blank"><i class="fa fa-envelope fa-2x" title="E-Mail"></i></a>
        </li>
      

      
        <li>
          <a href="https://linkedin.com/in/aalvarez4" target="_blank"><i class="fa fa-linkedin fa-2x" title="LinkedIn"></i></a>
        </li>
      

      
        <li>
          <a href="https://github.com/BigChief45" target="_blank"><i class="fa fa-github fa-2x" title="Github"></i></a>
        </li>
      

      
        <li>
          <a href="https://www.instagram.com/aalvrz_" target="_blank"><i class="fa fa-instagram fa-2x" title="Instagram"></i></a>
        </li>
      

      
        <li>
          <a href="https://aalvarez.me/index.xml" target="_blank"><i class="fa fa-rss fa-2x" title="RSS"></i></a>
        </li>
      
    </ul>

    <p>&copy; 2020. All rights reserved. </p>
  </div>
</aside>

    <main class="content container">
    <div class="posts">

<article class="post">
  <h1 class="post-title">
    <a href="https://aalvarez.me/posts/django-custom-middleware-for-alerting-high-database-querying/">Django: Custom Middleware for Alerting High Database Querying</a>
  </h1>
  <time datetime="2020-05-06T15:27:47-0600" class="post-date">Wed, May 6, 2020</time>
  <p>In this post I will show you how you can implement a custom <a href="https://docs.djangoproject.com/en/3.0/topics/http/middleware/">middleware</a> that you can use in your development environment to monitor queries to the database in your views when developing Django applications.</p>
<p>Let's begin by creating a <code>middleware.py</code> file (a nice convention) where we will place our new middleware. The middleware is relatively simple and small, this is how it looks like:</p>

  
  <div style="margin: 20px 0px;">
  
    <a href="https://aalvarez.me/tags/django" class="label label-default">django</a></li>
  
</div>


  
    <div class="read-more-link">
      <a href="https://aalvarez.me/posts/django-custom-middleware-for-alerting-high-database-querying/">Read More…</a>
    </div>
  
</article>
<article class="post">
  <h1 class="post-title">
    <a href="https://aalvarez.me/posts/custom-admin-action-buttons-in-django/">Custom Admin Action Buttons in Django</a>
  </h1>
  <time datetime="2020-04-29T12:06:31-0600" class="post-date">Wed, Apr 29, 2020</time>
  <p>In this post I will explain how you can add custom action buttons in the admin detail view of objects in the Django admin.</p>
<p>This is the final result we want to achieve:</p>
<p><img src="https://aalvarez.me/posts/custom-admin-action-buttons-in-django/custom_admin_buttons.png" alt="Custom Admin Buttons"></p>
<p>These buttons can trigger custom actions that we want to perform on these objects.</p>

  
  <div style="margin: 20px 0px;">
  
    <a href="https://aalvarez.me/tags/django" class="label label-default">django</a></li>
  
</div>


  
    <div class="read-more-link">
      <a href="https://aalvarez.me/posts/custom-admin-action-buttons-in-django/">Read More…</a>
    </div>
  
</article>
<article class="post">
  <h1 class="post-title">
    <a href="https://aalvarez.me/posts/gracefully-exiting-python-context-managers-on-ctrl-c/">Gracefully Exiting Python Context Managers on Ctrl&#43;C</a>
  </h1>
  <time datetime="2020-04-10T16:27:41-0600" class="post-date">Fri, Apr 10, 2020</time>
  <p>In this post I will show you how you can exit gracefully from within a context manager in your Python application.</p>
<p>Suppose that we provide a context manager that can be used as a session to perform certain tasks. When the context manager is closed, there is some cleanup work to be done. We want this to happen even when the user interrupts the program with <!-- raw HTML omitted -->Ctrl+C<!-- raw HTML omitted --> key.</p>
<p>This is how we can achieve that:</p>

  
  <div style="margin: 20px 0px;">
  
    <a href="https://aalvarez.me/tags/python" class="label label-default">python</a></li>
  
</div>


  
    <div class="read-more-link">
      <a href="https://aalvarez.me/posts/gracefully-exiting-python-context-managers-on-ctrl-c/">Read More…</a>
    </div>
  
</article>
<article class="post">
  <h1 class="post-title">
    <a href="https://aalvarez.me/posts/python-log-messages-with-dynamic-formatter-variables/">Python Log Messages With Dynamic Formatter Variables</a>
  </h1>
  <time datetime="2020-04-02T16:07:28-0600" class="post-date">Thu, Apr 2, 2020</time>
  <p>In this post I will explain how it is possible to replace logger formatter variables with dynamic values. Take the following log message for example:</p>
<pre><code>[2020-04-02 15:37:01] myapp INFO: Logged in successfully.
</code></pre><p>What if we wanted to add some additional data after the <code>INFO</code> part, <em>but</em> this data is dynamic, or is only available at runtime. Like a username or an app name for example.</p>
<p>Let's take a look at how to achieve this.</p>

  
  <div style="margin: 20px 0px;">
  
    <a href="https://aalvarez.me/tags/python" class="label label-default">python</a></li>
  
</div>


  
    <div class="read-more-link">
      <a href="https://aalvarez.me/posts/python-log-messages-with-dynamic-formatter-variables/">Read More…</a>
    </div>
  
</article>
<article class="post">
  <h1 class="post-title">
    <a href="https://aalvarez.me/posts/django-oring-list-of-q-objects/">Django: ORing A List of Q Objects</a>
  </h1>
  <time datetime="2019-08-04T12:35:00-0600" class="post-date">Sun, Aug 4, 2019</time>
  <p>Django allows using the OR bitwise operator <code>|</code> with <code>Q</code> objects for more complex lookups:</p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#111">Q</span><span style="color:#111">(</span><span style="color:#111">question__startswith</span><span style="color:#f92672">=</span><span style="color:#d88200"></span><span style="color:#d88200">&#39;</span><span style="color:#d88200">Who</span><span style="color:#d88200">&#39;</span><span style="color:#111">)</span> <span style="color:#f92672">|</span> <span style="color:#111">Q</span><span style="color:#111">(</span><span style="color:#111">question__startswith</span><span style="color:#f92672">=</span><span style="color:#d88200"></span><span style="color:#d88200">&#39;</span><span style="color:#d88200">What</span><span style="color:#d88200">&#39;</span><span style="color:#111">)</span>
</code></pre></div><p>However this requires explicitely typing each <code>Q</code> object. How can we apply this OR opperation to all the <code>Q</code> objects in a list?</p>
<p>In Python 3 we can do so like this:</p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">from</span> <span style="color:#111">functools</span> <span style="color:#f92672">import</span> <span style="color:#111">reduce</span>
<span style="color:#f92672">from</span> <span style="color:#111">operator</span> <span style="color:#f92672">import</span> <span style="color:#111">__or__</span>


<span style="color:#111">qs</span> <span style="color:#f92672">=</span> <span style="color:#111">MyModel</span><span style="color:#f92672">.</span><span style="color:#111">objects</span><span style="color:#f92672">.</span><span style="color:#111">filter</span><span style="color:#111">(</span><span style="color:#111">reduce</span><span style="color:#111">(</span><span style="color:#111">__or__</span><span style="color:#111">,</span> <span style="color:#111">filters</span><span style="color:#111">)</span><span style="color:#111">)</span>
</code></pre></div><p>Where <code>filters</code> is a list containing multiple <code>Q</code> objects like the ones shown in the first example.</p>

  
  <div style="margin: 20px 0px;">
  
    <a href="https://aalvarez.me/tags/django" class="label label-default">django</a></li>
  
</div>


  
    <div class="read-more-link">
      <a href="https://aalvarez.me/posts/django-oring-list-of-q-objects/">Read More…</a>
    </div>
  
</article>






  <div>
    

    
      <a href="https://aalvarez.me//page/2/" style="float: right;">Older Posts →</a>
    
  </div>



</div>
    </main>

    
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-131322667-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

  </body>
</html>
